<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Common issues &mdash; python-hpilo 4.4.3 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing guide" href="contributing.html" />
    <link rel="prev" title="Managing iLO’s with puppet" href="puppet.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            python-hpilo
              <img src="_static/python-hpilo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.4.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing python-hpilo</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Access from Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="shell.html">Access from the shell</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="info.html">General server and iLO information</a></li>
<li class="toctree-l1"><a class="reference internal" href="networksettings.html">Network settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">iLO licensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security and SSL settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="health.html">Server health</a></li>
<li class="toctree-l1"><a class="reference internal" href="power.html">Power manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="boot.html">Boot settings and rebooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="media.html">Virtual media</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Keyboard and mouse settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="snmp.html">SNMP settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="firmware.html">Dealing with iLO firmware updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="xmldata.html">Unauthenticated iLO and Chassis OA data</a></li>
<li class="toctree-l1"><a class="reference internal" href="log.html">iLO event log</a></li>
<li class="toctree-l1"><a class="reference internal" href="federation.html">Federation groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="ahs.html">Active Health System and Insight Remote Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Deployment profiles</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ca.html">Managing SSL certificates</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticsearch.html">iLO information search</a></li>
<li class="toctree-l1"><a class="reference internal" href="autofirmware.html">Automated firmware updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="puppet.html">Managing iLO’s with puppet</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Common issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#update-your-firmware">Update your firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syntax-error-line-0">Syntax error: Line #0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ssl-sslv3-alert-handshake-failure-sslv3-alert-handshake-failure-ssl-c-661">SSL: SSLV3_ALERT_HANDSHAKE_FAILURE] sslv3 alert handshake failure (_ssl.c:661)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#elementtree-parseerror">ElementTree.ParseError</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unexpected-errors-after-a-login-failure">Unexpected errors after a login failure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#failure-to-update-ilo3-firmware">Failure to update iLO3 firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="#failure-to-update-ilo5-firmware">Failure to update iLO5 firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hpilo-iloerror-error-reading-configuration"><cite>hpilo.IloError: Error reading configuration</cite></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">python-hpilo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Common issues</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="common-issues">
<h1>Common issues<a class="headerlink" href="#common-issues" title="Permalink to this headline">¶</a></h1>
<p>The iLO interfaces aren’t the most helpful when they detect something
erroneous. These are some common issues and their solutions. If you have a
problem that is not listed here, or solved with these instructions, please file
an issue at <a class="reference external" href="https://github.com/seveas/python-hpilo">https://github.com/seveas/python-hpilo</a>. When reporting bugs, please
do send the problematic XML responses. These XML responses can be saved as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">response</span><span class="o">=</span><span class="n">for_bugreport</span><span class="o">.</span><span class="n">txt</span> <span class="n">get_fw_version</span>
</pre></div>
</div>
<p>Of course you should replace the hostname  with the actual iLO hostname or ip,
and get_fw_version with the actual call you want to make. If you use the python
API instead of the CLI tool, set the <code class="xref py py-data docutils literal notranslate"><span class="pre">save_response</span></code> attribute on the ilo
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ilo</span> <span class="o">=</span> <span class="n">hpilo</span><span class="o">.</span><span class="n">Ilo</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">ilo</span><span class="o">.</span><span class="n">save_response</span> <span class="o">=</span> <span class="s2">&quot;for_bugreport.txt&quot;</span>
<span class="n">ilo</span><span class="o">.</span><span class="n">get_fw_version</span><span class="p">()</span>
</pre></div>
</div>
<p>These debug responses may contain sensitive information, which you should edit
out. Please use a hexeditor to do so, or at least make sure your editor does
not try to normalize newlines. It is important that the number of characters in
the file stays the same, so don’t add or remove data, just overwrite sensitive
values with XXXX.</p>
<p>As github issues do not support attachments, feel fee to mail this debug
information to <a class="reference external" href="mailto:dennis&#37;&#52;&#48;kaarsemaker&#46;net">the author</a> directly.</p>
<div class="section" id="update-your-firmware">
<h2>Update your firmware<a class="headerlink" href="#update-your-firmware" title="Permalink to this headline">¶</a></h2>
<p>This might sound like a lame cop-out, but quite a few versions of especially
iLO 3 firmware contain serious bugs that cause the XML interface to misbehave.
Upgrading the firmware of an iLO is simple and does not impact the host at all,
so it’s always a good idea to start with a firmware update:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="n">latest</span>
</pre></div>
</div>
<p>If this fails to extract the firmware, try upgrading python-hpilo as newer
firmware versions are shipped in a different, incompatible format.</p>
</div>
<div class="section" id="syntax-error-line-0">
<h2>Syntax error: Line #0<a class="headerlink" href="#syntax-error-line-0" title="Permalink to this headline">¶</a></h2>
<p>Occasionally you might see this error at the end of a traceback:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hpilo</span><span class="o">.</span><span class="n">IloError</span><span class="p">:</span> <span class="n">Error</span> <span class="n">communicating</span> <span class="k">with</span> <span class="n">iLO</span><span class="p">:</span> <span class="n">Syntax</span> <span class="n">error</span><span class="p">:</span> <span class="n">Line</span> <span class="c1">#0: syntax error near &quot;&quot; in the line: &quot;&quot;</span>
</pre></div>
</div>
<p>This generally means that you are trying to call a method that is not supported
for your device or the firmware version you use. Get this information with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">get_fw_version</span>
</pre></div>
</div>
<p>And consult the HP sample XML files to find out whether this call is supported
for your device and firmware version. If it is, please file a bug report.</p>
<p>Note that for some calls (most notable mod_global_settings), support for the
call may be there, but not all arguments are supported.</p>
</div>
<div class="section" id="ssl-sslv3-alert-handshake-failure-sslv3-alert-handshake-failure-ssl-c-661">
<h2>SSL: SSLV3_ALERT_HANDSHAKE_FAILURE] sslv3 alert handshake failure (_ssl.c:661)<a class="headerlink" href="#ssl-sslv3-alert-handshake-failure-sslv3-alert-handshake-failure-ssl-c-661" title="Permalink to this headline">¶</a></h2>
<p>Your operating system vendor wisely doesn’t support older SSL protocols
anymore, and your iLO firmware is too old. Try using an older version of your
os, possibly in a vm, chroot or container to upgrade the firmware of your iLO</p>
</div>
<div class="section" id="elementtree-parseerror">
<h2>ElementTree.ParseError<a class="headerlink" href="#elementtree-parseerror" title="Permalink to this headline">¶</a></h2>
<p>Occasionally you might see either of these errors at the end of a traceback:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cElementTree</span><span class="o">.</span><span class="n">ParseError</span><span class="p">:</span> <span class="ow">not</span> <span class="n">well</span><span class="o">-</span><span class="n">formed</span> <span class="p">(</span><span class="n">invalid</span> <span class="n">token</span><span class="p">):</span> <span class="n">line</span> <span class="mi">301</span><span class="p">,</span> <span class="n">column</span> <span class="mi">23</span>
<span class="n">xml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">ParseError</span><span class="p">:</span> <span class="ow">not</span> <span class="n">well</span><span class="o">-</span><span class="n">formed</span> <span class="p">(</span><span class="n">invalid</span> <span class="n">token</span><span class="p">):</span> <span class="n">line</span> <span class="mi">301</span><span class="p">,</span> <span class="n">column</span> <span class="mi">23</span>
</pre></div>
</div>
<p>This means that the iLO interface is spewing invalid XML back at you.
python-hpilo has some workarounds in place for common cases, and most other
cases have been fixed in newer firmware versions. Please update your firmware
version and try again. If the problem persists, please file a bug report.</p>
</div>
<div class="section" id="unexpected-errors-after-a-login-failure">
<h2>Unexpected errors after a login failure<a class="headerlink" href="#unexpected-errors-after-a-login-failure" title="Permalink to this headline">¶</a></h2>
<p>If you use the wrong credentials to access the XML interface, some iLO’s get
into some weird state. Call <code class="xref py py-func docutils literal notranslate"><span class="pre">get_fw_version()</span></code> a few times to clear this
state and recover.</p>
</div>
<div class="section" id="failure-to-update-ilo3-firmware">
<h2>Failure to update iLO3 firmware<a class="headerlink" href="#failure-to-update-ilo3-firmware" title="Permalink to this headline">¶</a></h2>
<p>The early firmware versions of iLO3 had quite a few issues. To update from
anything older than 1.28 to 1.50 or newer, you need to update in two steps:
first update to 1.28 and then update to a later version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="mf">1.28</span>
<span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="n">latest</span>
</pre></div>
</div>
</div>
<div class="section" id="failure-to-update-ilo5-firmware">
<h2>Failure to update iLO5 firmware<a class="headerlink" href="#failure-to-update-ilo5-firmware" title="Permalink to this headline">¶</a></h2>
<p>The early firmware versions of iLO3 had quite a few issues. To update from
anything older than 1.40 to 1.50 or newer, you need to update in two steps:
first update to 1.40 and then update to a later version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="mf">1.40</span>
<span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="n">latest</span>
</pre></div>
</div>
</div>
<div class="section" id="hpilo-iloerror-error-reading-configuration">
<h2><cite>hpilo.IloError: Error reading configuration</cite><a class="headerlink" href="#hpilo-iloerror-error-reading-configuration" title="Permalink to this headline">¶</a></h2>
<p>This error might occur in delayed mode when one of the calls causes a reset of
the iLO, such as changing network settings or resetting to factory defaults. All
delayed calls called by the same <cite>call_delayed</cite> after this reset may then cause
this error as the iLO is resetting. For example, when calling <cite>hpilo_cli
localhost factory_defaults + activate_license key=12345</cite>, the
<cite>activate_license</cite> call may fail with this error. If you hit this issue and you
use calls that can cause a reset, make sure you either use them outside a
delayed call or at the end of the delayed call.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="puppet.html" class="btn btn-neutral float-left" title="Managing iLO’s with puppet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2020, Dennis Kaarsemaker.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>